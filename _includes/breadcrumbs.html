{%- comment -%}
See https://simpleit.rocks/ruby/jekyll/tutorials/how-to-create-breadcrumbs-with-hierarchical-categories-in-jekyll/
{%- endcomment -%}
{%- assign categories = include.path | split: "/" -%}
{%- assign filename_no_ext = categories | last | split: "." | first -%}
{%- if filename_no_ext == "index" -%}
{%-   assign categories = categories | pop -%}
{%- endif -%}
{%- assign route="" -%}

<div class="breadcrumb" aria-label="breadcrumbs">
  <ul>
    <li><a href="{{ '/' | absolute_url }}">Our Navy Portal</a></li>
    {%- for category in categories -%}
      {%- assign route = route | append: '/' | append: category -%}
      {%- if forloop.last -%}
      <li class="is-active"><a href="#" aria-current="page">{%- if include.title -%}{{ include.title }}{%- else -%}{{ category }}{%- endif -%}</a></li>
      {%- else -%}
      <li><a href="{{ route | absolute_url }}">{{ category }}</a></li>
      {%- endif -%}
    {%- endfor -%}
  </ul>
</div>
